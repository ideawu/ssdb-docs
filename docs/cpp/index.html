<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>SSDB C++ API: SSDB C++ API Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SSDB C++ API
   </div>
   <div id="projectbrief">The C++ Client API for SSDB server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">SSDB C++ API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>: <a href="http://www.ideawu.com/">ideawu</a></dd></dl>
<h2>Build the static library(libssdb.a)</h2>
<p>Download the SSDB source code from <a href="https://github.com/ideawu/ssdb">github</a>. </p>
<pre class="fragment">make
cd api/cpp
make
</pre><p>The shell commands above will compile the C++ API codes, and generate a <code>libssdb.a</code> file.</p>
<h2>Sample code</h2>
<pre class="fragment">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string&gt;
#include &lt;vector&gt;
#include "SSDB.h"

int main(int argc, char **argv){
    const char *ip = (argc &gt;= 2)? argv[1] : "127.0.0.1";
    int port = (argc &gt;= 3)? atoi(argv[2]) : 8888;

    ssdb::Client *client = ssdb::Client::connect(ip, port);
    if(client == NULL){
        printf("fail to connect to server!\n");
        return 0;
    }

    ssdb::Status s;
    s = client-&gt;set("k", "hello ssdb!");
    if(s.ok()){
        printf("k = hello ssdb!\n");
    }else{
        printf("error!\n");
    }

    delete client;
    return 0;
}
</pre><p>Save the codes above into a file named <code>hello-ssdb.cpp</code>.</p>
<h2>Compile sample code</h2>
<p>If you are under the directory <code>api/cpp</code>, compile it like this </p>
<pre class="fragment">g++ -o hello-ssdb hello-ssdb.cpp libssdb.a
./hello-ssdb
</pre><p>Before you run <code>hello-ssdb</code>, you have to start ssdb-server with the default configuration. The output would be like </p>
<pre class="fragment">k = hello ssdb!
</pre><p>Connect to ssdb-server with <code>ssdb-cli</code>, to verify the key <code>k</code> is stored with the value "hello ssdb!".</p>
<p>If your <code>hello-ssdb.cpp</code> file is not under the directory <code>api/cpp</code>, you will compile it like this </p>
<pre class="fragment">g++ -o hello-ssdb -I&lt;path of api/cpp&gt; hello-ssdb.cpp &lt;path of api/cpp&gt;/libssdb.a</pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 19 2013 11:19:00 for SSDB C++ API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
